html,body { margin:0; padding:0; height:100%; background:#0d0f11; color:#eee; font-family: system-ui, "Segoe UI", Arial, sans-serif; }
#glCanvas { width:100vw; height:100vh; display:block; cursor:grab; }
#glCanvas:active { cursor:grabbing; }
#hud { position:fixed; inset:0; pointer-events:none; }
#hud .panel { pointer-events:auto; background:rgba(15,18,22,0.7); backdrop-filter: blur(6px); padding:10px 14px; border:1px solid rgba(255,255,255,0.07); border-radius:8px; box-shadow:0 4px 14px -4px #000; }
#hud .panel.left { position:absolute; top:10px; left:10px; width:260px; max-height:calc(100vh - 20px); overflow:auto; }
#hud .panel.log { position:absolute; bottom:10px; right:10px; width:340px; max-height:40vh; font-size:12px; line-height:1.3; overflow:auto; }
#hud h1 { margin:0 0 6px; font-size:20px; letter-spacing:0.5px; }
#stats { font-size:13px; margin-bottom:8px; line-height:1.45; }
#actions { display:flex; flex-wrap:wrap; gap:6px; margin-bottom:8px; }
#actions button { flex:1 1 100%; background:#1e262f; color:#eee; border:1px solid #314253; padding:6px 8px; border-radius:6px; font-size:13px; cursor:pointer; transition:.15s background,.15s transform; font-weight:500; }
#actions button:hover { background:#26313d; }
#actions button:active { transform:translateY(1px); }
#actions button:disabled { opacity:.45; cursor:not-allowed; }
#tips { font-size:11px; opacity:.65; }
#legend { margin-top:6px; font-size:11px; line-height:1.3; display:grid; gap:2px; }
#legend .row { display:flex; align-items:center; gap:6px; }
#legend .sw { width:14px; height:14px; border-radius:3px; border:1px solid rgba(255,255,255,0.3); }
#log { font-family: "Consolas", monospace; }
#log .entry { margin:2px 0; opacity:.9; animation:fadeIn .4s ease; }
@keyframes fadeIn { from { opacity:0; transform:translateY(4px); } to { opacity:1; transform:translateY(0); } }
::-webkit-scrollbar { width:10px; }
::-webkit-scrollbar-track { background:rgba(0,0,0,0.2); }
::-webkit-scrollbar-thumb { background:#2c3945; border-radius:6px; border:2px solid rgba(0,0,0,0.3); }
/* Economy panel */
/* Strategy / economics */
.strategy-grid { display:grid; grid-template-columns: repeat(4, auto); gap:4px 6px; font-size:11px; align-items:center; margin-top:4px; }
.strategy-grid .hdr { font-weight:600; opacity:0.8; }
.strategy-grid input { width:54px; background:#1c242c; border:1px solid #314253; color:#eee; padding:2px 4px; border-radius:4px; font-size:11px; }
#citiesView { font-size:11px; display:grid; gap:6px; }
#citiesView .city { background:rgba(255,255,255,0.05); padding:6px 8px; border-radius:8px; line-height:1.35; position:relative; }
#citiesView .city .goods { display:grid; grid-template-columns: repeat(3, 1fr); gap:3px; margin-top:4px; }
#citiesView .city .goods div { background:rgba(255,255,255,0.07); padding:3px 4px; border-radius:4px; text-align:center; font-size:10px; position:relative; }
#citiesView .city .goods div.good-buy { box-shadow:0 0 0 2px #2f7f4a inset; background:linear-gradient(#1d3826,#234930); color:#cfeeda; }
#citiesView .city .goods div.good-sell { box-shadow:0 0 0 2px #b44b24 inset; background:linear-gradient(#4a2318,#5d2c1d); color:#f3d1c4; }
#citiesView .city .goods div.p-low { background:linear-gradient(#24323b,#1d272f); }
#citiesView .city .goods div.p-mid { background:linear-gradient(#2c3e49,#25323a); }
#citiesView .city .goods div.p-high { background:linear-gradient(#3c4854,#303c45); }
#citiesView .city .goods div .ratioBar { position:relative; display:block; height:3px; background:rgba(255,255,255,0.15); margin-top:2px; border-radius:2px; overflow:hidden; }
#citiesView .city .goods div .ratioBar span { position:absolute; inset:0; width:0; background:linear-gradient(90deg,#3aa66b,#d4b324,#d46a2c); }
#caravansView { font-size:11px; display:grid; gap:6px; }
#caravansView .car { background:rgba(255,255,255,0.05); padding:6px 8px; border-radius:8px; line-height:1.3; }
#caravansView .cargo { display:grid; grid-template-columns: repeat(3, 1fr); gap:3px; margin-top:3px; }
#caravansView .cargo div { background:rgba(255,255,255,0.07); padding:2px 4px; border-radius:4px; font-size:10px; text-align:center; }

/* Windows */
.window { position:absolute; top:50px; left:290px; width:340px; max-height:70vh; display:none; flex-direction:column; background:rgba(20,24,28,0.78); backdrop-filter:blur(8px); border:1px solid rgba(255,255,255,0.08); border-radius:10px; box-shadow:0 6px 20px -6px #000; pointer-events:auto; }
.window.large { width:420px; }
.window .titlebar { display:flex; justify-content:space-between; align-items:center; padding:6px 10px; font-size:13px; font-weight:600; letter-spacing:0.5px; border-bottom:1px solid rgba(255,255,255,0.08); }
.window .titlebar button.close { background:#2a333c; border:1px solid #3a4a58; color:#ddd; border-radius:5px; cursor:pointer; width:26px; height:22px; display:flex; align-items:center; justify-content:center; font-size:14px; }
.window .content { padding:8px 10px 10px; overflow:auto; flex:1; }
.window.show { display:flex; animation:fadeInWin .25s ease; }
@keyframes fadeInWin { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }

.windows-menu { display:flex; gap:6px; margin:8px 0 6px; flex-wrap:wrap; }
.windows-menu button { flex:1 1 auto; background:#24313d; color:#eee; border:1px solid #314253; padding:6px 6px; border-radius:6px; font-size:12px; cursor:pointer; }
.windows-menu button:hover { background:#2d3d4a; }
.windows-menu button.active { background:#395064; }

/* Price change flash animations */
@keyframes flashUp { 0%{box-shadow:0 0 0 0 #3aa66b,0 0 0 0 rgba(58,166,107,0.4);} 30%{box-shadow:0 0 0 2px #3aa66b,0 0 6px 2px rgba(58,166,107,0.4);} 100%{box-shadow:0 0 0 0 #3aa66b,0 0 0 0 rgba(58,166,107,0.0);} }
@keyframes flashDown { 0%{box-shadow:0 0 0 0 #d46a2c,0 0 0 0 rgba(212,106,44,0.4);} 30%{box-shadow:0 0 0 2px #d46a2c,0 0 6px 2px rgba(212,106,44,0.4);} 100%{box-shadow:0 0 0 0 #d46a2c,0 0 0 0 rgba(212,106,44,0.0);} }
#citiesView .city .goods div.flash-up { animation:flashUp .9s ease; }
#citiesView .city .goods div.flash-down { animation:flashDown .9s ease; }

/* Tooltip for price sparkline */
#priceTooltip { background:rgba(18,22,25,0.92); color:#d6e2eb; padding:6px 8px 8px; border:1px solid rgba(255,255,255,0.08); border-radius:8px; font-size:11px; line-height:1.3; width:max-content; max-width:200px; box-shadow:0 4px 14px -4px #000; }
#priceTooltip .pt-head { font-weight:600; margin-bottom:4px; font-size:11px; }
#priceTooltip svg { display:block; }


